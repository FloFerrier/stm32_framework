{
    "version": "2.0.0",
    "tasks":
    [
        {
            "label": "Configure Workspace",
            "type": "shell",
            "command": "cmake -GNinja -B build/${input:buildType} -DCMAKE_BUILD_TYPE=${input:buildType} -DSELECTED_BOARD=${input:boardSelection}",
        },
        {
            "label": "Build Workspace",
            "type": "shell",
            "command": "cmake --build build/${input:buildType}"
        },
        {
            "label": "Clean Workspace",
            "type": "shell",
            "command": "cmake --build build/${input:buildType} -t clean"
        },
        {
            "label": "Run Testsuite",
            "type": "shell",
            "command": "ctest -V --test-dir build/Test"
        },
        {
            "label": "Start Emulator",
            "type": "shell",
            "command": "renode config/nucleo-f446re.resc"
        },
    ],
    "inputs": [
        {
            "id": "buildType",
            "type": "pickString",
            "description": "What type of build do you want ?",
            "options": [
                "Debug",
                "Release",
                "Test",
            ],
            "default": "Debug"
        },
        {
            "id": "boardSelection",
            "type": "pickString",
            "description": "What board do you want to use ?",
            "options": [
                "stm32f446retx",
                "stm32l152retx",
                "stm32f103c8t6",
                "stm32f100rbtx",
            ],
            "default": "stm32f446retx"
        },
    ]
}